<div class="container">
  <app-header></app-header>
  <app-pipeline-header (detailsIcon)="showOrHideDetails()" (tableIcon)="showOrHideTable()"></app-pipeline-header>
  <div *ngIf="showDetails" class="details" [ngSwitch]="detailsMode">
    <app-join-details [joinId]="selectedNodeId" *ngSwitchCase="'join'" [join_details]="joinDetails"></app-join-details>
    <app-pipeline-details *ngSwitchCase="'pipeline'"></app-pipeline-details>
    <app-aggregate-details [aggregateId]="selectedNodeId" *ngSwitchCase="'aggregate'"
                           [aggregate_details]="aggregateDetails"></app-aggregate-details>
    <app-filter-page *ngSwitchCase="'filter'" [filterId]="selectedNodeId" [tree]="filterTree"
                     (changeMode)="changeMode()"></app-filter-page>
  </div>
  <main #mainOgma>
    <app-pipeline-board></app-pipeline-board>
    <div id="graph-container" class="ogma-container"></div>
  </main>
  <app-pipeline-table *ngIf="showTable && _pipelineService.sourceName"
                      [sourceOrDest]="sourceOrDest"></app-pipeline-table>
</div>
